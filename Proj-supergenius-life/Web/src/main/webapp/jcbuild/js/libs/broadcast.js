(function(){Broadcast=function(a,d){this.element=a;d&&$.extend(this,d);this.interval=this.interval?this.interval:2;this.count=this.count?this.count:3;this.currentIndex=0;var b=this;this.select=function(a,e){a=b.realIndex(a);e=void 0===e?a<b.currentIndex:e;var f=function(a,c){a=b.realIndex(a);b.element.find("*").stop(!0,!0);d.select&&d.select.call(b,a,c);b.currentIndex=a};if(a!==b.currentIndex)if(e)for(var c=a<b.currentIndex?b.currentIndex-1:b.currentIndex+b.count-1;c>=a;c--)f(c,e);else for(c=a>b.currentIndex?
b.currentIndex+1:b.currentIndex-b.count+1;c<=a;c++)f(c,e)};this.init&&this.init();this.play()};Broadcast.prototype.realIndex=function(a){return 0<=a?a%this.count:this.count-Math.abs(a)%this.count};Broadcast.prototype.beforeIndex=function(a){a=this.realIndex(a);return a<this.currentIndex?a:a-this.count};Broadcast.prototype.afterIndex=function(a){a=this.realIndex(a);return a>this.currentIndex?a:a+this.count};Broadcast.prototype.play=function(){var a=this,d=function(){a.paused||a.next();setTimeout(d,
1E3*a.interval)};setTimeout(d,1E3*a.interval)};Broadcast.prototype.pause=function(){this.paused=!0};Broadcast.prototype.goahead=function(){this.paused=!1};Broadcast.prototype.next=function(){this.select(this.currentIndex+1,!1)};Broadcast.prototype.previous=function(){this.select(0===this.currentIndex?this.count-1:this.currentIndex-1,!0)}})();
