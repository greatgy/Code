(function(c){c.fn.masonry=function(e){var a=c.extend({},{container:{},containerheight:0,tiles:{},nextpoints:[],maxwidth:0,initleft:0,minleft:0,maxright:0,maxtop:0,maxtop:0,margin:6,margintop:6,mozillamargintop:10,index:0},e);a.container=c(this);a.maxwidth=c(this).outerWidth();c.browser.mozilla&&(a.margintop=a.mozillamargintop);a.tiles.each(function(b){var d=a.maxright+a.margin;if(d+c(this).outerWidth()<=a.maxwidth)return a.nextpoints[b]={left:d,top:0},a.maxright=d+c(this).outerWidth(),!0;1==Math.floor(a.maxwidth/
c(this).outerWidth())&&(a.nextpoints[b]={left:0,top:0});return!1});a.tiles.each(function(){var b=a.nextpoints[0];if("undefined"!=typeof b){for(var d=1;d<a.nextpoints.length;d++)b.top>a.nextpoints[d].top&&(b=a.nextpoints[d]),a.maxtop<a.nextpoints[d].top&&(a.maxtop=a.nextpoints[d].top);c(this).css("left",b.left);c(this).css("top",b.top);b.top+=a.margintop+c(this).outerHeight();a.maxtop<b.top&&(a.maxtop=b.top);a.container.css("height",a.maxtop+a.margintop)}})}})(jQuery);
