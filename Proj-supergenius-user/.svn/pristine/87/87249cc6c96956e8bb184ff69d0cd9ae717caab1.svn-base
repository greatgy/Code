[#ftl]
<html>
<head>
	<meta charset="UTF-8">
	<title>用户注册</title>
	<meta name="Keywords" content="会员中心，用户注册" />
	<meta name="Description" content="会员中心，用户注册" />
	<script type="text/javascript" src="${basejs}/js/libs/validator-1.0.0.js"></script>
	<link rel="stylesheet" type="text/css" href="${basecss}/css/default/register.css">
	<script type="text/javascript">
<!--
    function registerValidHandler(){
		var pwd = $("#txtpassword").val();
		var pwd2 = $("#txtconfigpwd").val();
		if(pwd != pwd2 || pwd2 == ""){
		    return false;
		} else {
		    return true;
		}
	}
    
    function chkProtocolValid(){ 
	    return $(".chkProtocolValid:checked").length == 1;
	}

	$(function(){
            $(".submit").click(function(){
                var checked = $("input[name='agreement']:checked");
                if (checked.length == 0) {
                    $("#aggrement").removeClass("hd");
                    return false;
                }
                 if($("#checkbox").is(":checked")){
    	             $("button").attr("disable","true");
    	        }
                $("#regform").submit();
            });
            
         $("#certifycode").keydown(function(event) {
                if (event.keyCode == 13) {
                    $(".submit").click();
                    return false;
                }
            })
        });	
//-->
</script>
</head>
<body>
		<div class="container">
			<div class="main">
				<div class="topcommon">
					<img src="${baseimg}/imgs/default/findpw01.png" alt="" />
					<h2>从这里，找到更好的自己！</h2>
				</div>
				<div class="midcommon">
					<div class="logotop">
						<img src="${baseimg}/imgs/default/login_logo.png" alt="" />
						用户注册
					</div>
					<div class="registercontainer">
						<div class="registercontmiddle">
							<form name="form" id="regform" action="${base}/register" method="post">
								<ul class="labelbase">
									<li>
										<label for="mail"><i>*</i>手机号/邮箱：</label>
										<input type="text" id="txtemail" name="email" isnotempty="" isemailormobile  placeholder="请填写可用手机号/邮箱" ajaxvalid="${base}/ajax/user/emailvalid|该邮箱已被注册，请直接登录|请输入163/qq/sina等常用邮箱或手机号" maxlength="100" value="${email}"/>
										<a class="sendcode" onclick="sendcode()">发送验证码</a>
										 <div id="focustxtemail" class="tipnote tipright hd"><i></i><span id="focusmsgtxtemail">请输入您的注册邮箱或手机号</span></div> 
                    	                 <div id="errtxtemail" class="tipnote tipwrong hd"><i></i><span id="errmsgtxtemail">请输入正确的邮箱格式</span></div>
                    	                 <div id="oktxtemail" class="tipnote hd"><i></i><img src="${baseimg}/imgs/default/yes.png" alt="" /><span id="okmsgtxtemail"></span></div>
									</li>
									<li>
										<label for="txtcode"><i>*</i>验证码：</label>
										<input type="text" id="txtcode" name="code" isnotempty="" customreg="^\d{6}$|请填写6位验证码" ajaxvalid="${base}/ajax/user/code|验证码输入正确|验证码输入错误，请重新输入" placeholder="输入正确的验证码" />
										<div id="focustxtcode" class="tipnote tipright hd"><i></i><span id="focunsmsgtxtcode">请输入验证码</span></div> 
	                                 	<div id="errtxtcode" class="tipnote tipwrong hd"><i></i><span id="errmsgtxtcode">请输入验证码</spa></div>
	                                 	<div id="oktxtcode" class="tipnote hd"><i></i><img src="${baseimg}/imgs/default/yes.png" alt="" /><span id="oktxtpassword"></span></div>
									</li>
									<li>
										<label for="configpw"><i>*</i>设置密码：</label>
										<input type="password" id="txtpassword" name="password" isnotempty="" customreg="^.{6,16}$|请填写6-16位字符" ispwd="请输入6-16位，包括数字和字母" placeholder="请输入6-16位，包括数字和字母" />
										<div id="focustxtpassword" class="tipnote tipright hd"><i></i><span id="focusmsgtxtpassword">请输入6-16位，包括数字和字母</span></div> 
	                                 	<div id="errtxtpassword" class="tipnote tipwrong hd"><i></i><span id="errmsgtxtpassword">请输入6-16位，包括数字和字母</span></div>
	                       	            <div id="oktxtpassword" class="tipnote hd"><i></i><img src="${baseimg}/imgs/default/yes.png" alt="" /><span id="oktxtpassword"></span></div>
									</li>
									<li>
										<label for="configpw"><i>*</i>确认密码：</label>
										<input type="password" id="txtconfigpwd" name="password2" ispwd="" customvalid="registerValidHandler()|两次输入的密码不一致" placeholder="请再次输入密码" />
										<div id="focustxtconfigpwd" class="tipnote tipright hd"><i></i><span id="focusmsgtxtconfigpwd">请确认密码</span></div>
	                    	            <div id="errtxtconfigpwd" class="tipnote tipwrong hd"><i></i><span id="errmsgtxtconfigpwd" >两次输入的密码不一致</span></div>
	                    	            <div id="oktxtconfigpwd" class="tipnote hd"><i></i><img src="${baseimg}/imgs/default/yes.png" alt="" /><span id="okmsgtxtconfigpwd"></span></div>
									</li>
									<li>
										<input type="checkbox" id="checkbox" checked="checked" value="1" class="chkProtocolValid" name="agreement"  isfocus="false">
										<label for="checkbox" class="agreens">
											我已阅读并接受
											<a href="${base}/userrule" class="agreement" target="_blank">《用户协议》</a>
											<a href="${base}/legal" class="agreement" target="_blank">《法律声明》</a>
											<a href="${base}/managerule" class="agreement" target="_blank">《社交网络平台管理规定》</a>
										</label>
										<li id="aggrement" class="hd">&nbsp;&nbsp;&nbsp;&nbsp;<font color="red">请阅读并接受注册条款</font></li>
									</li>
								</ul>
								<div class="formbottom">
									<button class="submit">立即注册</button>
									<a href="${base}/login" class="loginto">已有帐号，立即登录&nbsp;&gt;&gt;</a>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
<script type="text/javascript">
	function sendcode(){
		var email=$("#txtemail").val();
		$.ajax({
			url:"${base}/sendcode?email="+email
			
		});
	}
</script>
</body>
</html>