var toTop=0,history_num=0,history_href=location.href;$(function(){$(document).on("click","a",function(){history.replaceState("popstate","back",history_href)})});$(window).scroll(function(){toTop=parseInt($(this).scrollTop());var b=location.href.split("^=^")[1];history_href=void 0!=b&&"undefined"!=b?location.href.split("#")[0]+"#"+toTop+"^=^"+history_num:0<history_num?location.href.split("#")[0]+"#"+toTop+"^=^"+history_num:location.href.split("#")[0]+"#"+toTop});
function ajax_history(b,c,f,d,g){if(history.pushState&&-1!=location.href.indexOf("#")){var a=location.href.split("#")[1],e=a.split("^=^")[0],a=a.split("^=^")[1];c=a*c-(d-1);void 0==a||"undefined"==a?c=g-(d-1):(history_num=parseInt(a),pagenum=parseInt(a)+1);$(window).unbind("scroll",defaultScrollHandler);$.ajaxSetup({cache:!1,async:!1});$.get(b,{pagenum:d,pagesize:c},function(a){e=parseInt(e);$(f).html(a)});$(window).scrollTop(e);$.ajaxSetup({cache:!0,async:!0})}};
