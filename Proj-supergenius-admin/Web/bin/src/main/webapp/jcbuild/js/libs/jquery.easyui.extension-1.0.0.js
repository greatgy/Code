(function(a){function n(b,d){function l(d){var h=a(b);h.find("input[name],select[name],textarea[name]").each(function(){var e=this.name,f=jQuery.proxy(function(){try{return eval("this."+e)}catch(a){return""}},d)(),c=a(b).find('input[name="'+e+'"][type=radio], input[name="'+e+'"][type=checkbox]');c._propAttr("checked",!1);c.each(function(){var b=a(this);(b.val()==String(f)||0<=a.inArray(b.val(),f))&&b._propAttr("checked",!0)});c.length||(c=h.find('input[numberboxName="'+e+'"]'),c.length?c.numberbox("setValue",
f):(a('input[name="'+e+'"]',h).val(f),a('textarea[name="'+e+'"]',h).val(f),a('select[name="'+e+'"]',h).val(f)));a:{var c="combobox combotree combogrid datetimebox datebox combo".split(" "),j=a(b).find('[comboName="'+e+'"]');if(j.length)for(var g=0;g<c.length;g++){var k=c[g];if(j.hasClass(k+"-f")){if(j[k]("options").multiple)j[k]("setValues",f);else j[k]("setValue",f);break a}}}});g.onLoadSuccess.call(b,d);a(b).form("validate")}a.data(b,"form")||a.data(b,"form",{options:a.extend({},a.fn.form.defaults)});
var g=a.data(b,"form").options;if("string"==typeof d){var m={};!1!=g.onBeforeLoad.call(b,m)&&a.ajax({url:d,data:m,dataType:"json",success:function(a){l(a)},error:function(){g.onLoadError.apply(b,arguments)}})}else l(d)}a.fn.form.methods.load=function(a,d){return a.each(function(){n(this,d)})}})(jQuery);
